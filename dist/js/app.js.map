{"version":3,"file":"app.js","sources":["../../src/app/app.style.js","../../src/app/app.js","../../src/app/navigation/index.js","../../src/app/common/elements/button-icon.style.js","../../src/app/common/elements/button-icon.js","../../src/index.js"],"sourcesContent":["import { css } from 'lit-element';\n// language=CSS\nexport const style = css `\n    :host {\n        color: var(--font-color-theme);\n        padding: 0.6em;\n        max-height: 100vh;\n    }\n\n    .panel {\n        display: flex;\n        flex-direction: column;\n    }\n    \n    #loading-indicator, #spinner-container{\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    \n    #loading-indicator{\n        background: var(--background-theme);\n        padding: 1em;\n    }\n    \n    #loading-indicator span:last-child{\n        height: 3em;\n        width: 3em;\n    }\n\n    #loading-indicator  svg {\n        animation: 1s linear rotateSpinner;\n        animation-iteration-count: infinite;\n        stroke: currentColor;\n        fill: currentColor;\n    }\n\n    @keyframes rotateSpinner {\n        from {\n            transform: rotateZ(0);\n        }\n\n        from {\n            transform: rotateZ(360deg);\n        }\n    }\n`;\n","import { html, LitElement } from 'lit-element';\nimport { style } from './app.style';\nimport { Theme } from './settings/module';\nimport { View } from './navigation/module';\nimport { loadingIndicator } from './common/elements/icons';\nimport { defaultInjector, defaultRegistry } from './common';\nimport store from './store/index';\nexport const propsDef = {\n    selectedView: { type: String },\n    isLoading: { type: Boolean }\n};\nconst resolveModule = (view) => {\n    switch (view) {\n        case View.SEARCH:\n            return './search.js';\n        case View.ITINERARY:\n            return './itinerary.js';\n        case View.SETTINGS:\n            return './settings.js';\n        case View.LEISURE:\n            return './leisure.js';\n        default:\n            throw new Error(`could not find module for view: ${view}`);\n    }\n};\nexport const template = ({ selectedView, isLoading, component }) => html `<citykleta-navigation-bar .selectedView=\"${selectedView}\"></citykleta-navigation-bar>\n${isLoading ? html `<div id=\"loading-indicator\"><span>Loading ...</span><span id=\"spinner-container\" aria-hidden=\"true\">${loadingIndicator()}</span></div>` : component()}`;\nexport class App extends LitElement {\n    constructor() {\n        super(...arguments);\n        this.isLoading = true;\n    }\n    static get styles() {\n        return style;\n    }\n    static get properties() {\n        return propsDef;\n    }\n    get selectedView() {\n        return this._selectedView;\n    }\n    set selectedView(val) {\n        if (val !== this._selectedView) {\n            this._selectedView = val;\n            this._loadModule();\n        }\n    }\n    set theme(val) {\n        this.classList.toggle('dark', val === Theme.DARK);\n    }\n    render() {\n        return template({ selectedView: this.selectedView, isLoading: this.isLoading, component: this._component });\n    }\n    async _loadModule() {\n        this.isLoading = true;\n        const module = await import(resolveModule(this._selectedView));\n        module.loadServices(defaultRegistry, store);\n        module.loadComponents(defaultInjector);\n        this._component = module.view;\n        this.isLoading = false;\n    }\n}\n","import { loadComponents, loadServices } from './module';\nimport store from '../store/index';\nimport { defaultInjector, defaultRegistry } from '../common/index';\nloadServices(defaultRegistry, store);\nloadComponents(defaultInjector);\n","import { css } from 'lit-element';\n// language=CSS\nexport const style = css `\n    :host {\n        --color: var(--color-theme-compl);\n        --size: 1.8rem;\n    }\n\n    button {\n        align-items: center;\n        background: var(--background);\n        border: 2px solid var(--color);\n        border-radius: 50%;\n        box-sizing: border-box;\n        // box-shadow: 0 0 3px rgba(0, 0, 0, 0.3),\n        // 0 0 4px rgba(0, 0, 0, 0.3),\n        // 0 0 5px rgba(0, 0, 0, 0.2);\n        color: var(--color);\n        cursor: pointer;\n        display: flex;\n        height: var(--size);\n        justify-content: center;\n        outline: none;\n        padding: 2px;\n        transition: background 0.3s, color 0.3s;\n        width: var(--size);\n    }\n\n    button:focus, button:hover {\n        --background: var(--color-theme-compl);\n        --color: var(--color-theme-compl-1);\n        box-shadow: 0 0 4px 1px var(--background);\n        color: var(--font-color-theme-2);\n    }\n\n    :host(.danger) {\n        --color: var(--color-theme);\n        --size: 1.5rem;\n    }\n\n    :host(.danger) button:focus, :host(.danger) button:hover {\n        --background: var(--color-theme);\n        --color: var(--color-theme-1);\n        color: var(--font-color-theme-2);\n    }\n\n    ::slotted(svg) {\n        background: transparent;\n        fill: currentColor;\n        stroke: currentColor;\n        height: 100%;\n        width: 100%;\n    }\n`;\n","import { html, LitElement } from 'lit-element';\nimport { style } from './button-icon.style';\nexport const propDef = {\n    label: {\n        type: String,\n        reflect: true\n    }\n};\nexport const template = ({ label }) => html `<button><span id=\"button-label\" hidden>${label}</span><slot></slot></button>`;\nexport class ButtonIcon extends LitElement {\n    constructor() {\n        super();\n        this.label = 'fix me I have no accessible label!';\n    }\n    static get styles() {\n        return style;\n    }\n    static get properties() {\n        return propDef;\n    }\n    render() {\n        return template({\n            label: this.label\n        });\n    }\n}\n","import { connect } from './app/common/connect';\nimport { App } from './app/app';\nimport store from './app/store/index';\nimport './app/navigation';\nimport { ButtonIcon } from './app/common/elements/button-icon';\nconst ConnectedApp = connect(store, (state) => {\n    return {\n        selectedView: state.navigation.selectedView,\n        theme: state.settings.theme // module my not be loaded\n    };\n})(App);\ncustomElements.define('citykleta-button-icon', ButtonIcon);\ncustomElements.define('citykleta-app', ConnectedApp);\n"],"names":["style","template"],"mappings":"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"}