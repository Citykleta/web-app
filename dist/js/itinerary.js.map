{"version":3,"file":"itinerary.js","sources":["../../src/app/itinerary/elements/itinerary-panel.style.js","../../src/app/itinerary/elements/itinerary-panel.js","../../src/app/itinerary/elements/stop-point.style.js","../../src/app/itinerary/elements/stop-point.js","../../src/app/itinerary/elements/route-details.style.js","../../src/app/itinerary/elements/route-details.js","../../src/app/itinerary/module.js"],"sourcesContent":["import { css } from 'lit-element';\n// language=CSS\nexport const style = css `\n    :host > div {\n        background: var(--background-theme);\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12),\n        0 4px 4px rgba(0, 0, 0, 0.12),\n        0 6px 4px rgba(0, 0, 0, 0.12);\n    }\n\n    ol {\n        flex-grow: 1;\n        list-style: none;\n        margin: 0;\n        padding: 0;\n    }\n\n    #action-buttons-container {\n        display: flex;\n        justify-content: center;\n        padding: 0.5em;\n    }\n\n    #action-buttons-container > * {\n        margin: 0 0.4em;\n    }\n\n    #stops-list-container {\n        align-items: center;\n        display: flex;\n    }\n\n    #swap-button {\n        transform: rotateZ(90deg);\n        margin: 0 0.5em;\n    }\n\n    li {\n        --border-width: 14px;\n        --offset: calc(-1 * var(--border-width));\n        position: relative;\n    }\n\n    li.drop-target-before::before,\n    li.drop-target-after::after {\n        content: '';\n        display: inline-block;\n        border-width: var(--border-width);\n        border-style: solid;\n        border-color: transparent transparent transparent var(--color-theme-compl);\n        z-index: 99;\n        position: absolute;\n    }\n\n    li.drop-target-before::before {\n        top: var(--offset);\n    }\n\n    li.drop-target-after::after {\n        bottom: var(--offset);\n    }\n\n    .hidden {\n        display: none;\n    }\n\n    #routes-container {\n        margin-top: 1em;\n        padding-bottom: 1em;\n    }\n\n    h2 {\n        margin: 1em;\n        border-bottom: 2px solid var(--color-theme);\n    }\n`;\n","import { html, LitElement } from 'lit-element';\nimport { classMap } from 'lit-html/directives/class-map';\nimport { plus, remove, swap } from '../../common/elements/icons';\nimport { style } from './itinerary-panel.style';\nconst isTopPart = (ev, rect) => ev.pageY < (rect.top + rect.height / 2);\n// todo better event handler for drag/drop operation\nexport const template = ({ stops, routes, selectedRoute, itinerary }) => {\n    let boundingBox = null;\n    const addPoint = () => itinerary.addPoint(null);\n    const reset = () => itinerary.reset();\n    const dragstart = (id) => (ev) => {\n        ev.dataTransfer.setData('text/json', String(id));\n        ev.dataTransfer.dropEffect = 'move';\n        itinerary.startMove(id);\n    };\n    const dragOver = (id) => (ev) => {\n        ev.preventDefault();\n        const li = ev.currentTarget;\n        boundingBox = li.getBoundingClientRect();\n        const isBefore = isTopPart(ev, boundingBox);\n        li.classList.toggle('drop-target-before', isBefore);\n        li.classList.toggle('drop-target-after', !isBefore);\n    };\n    const drop = (id) => (ev) => {\n        ev.preventDefault();\n        if (isTopPart(ev, boundingBox)) {\n            itinerary.moveBefore(id);\n        }\n        else {\n            itinerary.moveAfter(id);\n        }\n        const li = ev.currentTarget;\n        li.classList.remove('drop-target-before');\n        li.classList.remove('drop-target-after');\n    };\n    const dragLeave = (id) => (ev) => {\n        ev.preventDefault();\n        const li = ev.currentTarget;\n        li.classList.remove('drop-target-before');\n        li.classList.remove('drop-target-after');\n    };\n    const isMulti = stops.length > 2;\n    const swapPoints = () => {\n        const [first, second] = stops;\n        itinerary.startMove(second.id);\n        itinerary.moveBefore(first.id);\n    };\n    const classList = classMap({\n        removable: isMulti\n    });\n    return html `\n<div>\n    <div id=\"stops-list-container\">\n        <citykleta-button-icon label=\"swap departure with destination\" @click=\"${swapPoints}\" id=\"swap-button\" class=\"${classMap({\n        hidden: isMulti\n    })}\">${swap()}</citykleta-button-icon>\n        <ol>${stops.map(stop => html `<li @dragstart=\"${dragstart(stop.id)}\" @dragover=\"${dragOver(stop.id)}\" @drop=\"${drop(stop.id)}\" @dragleave=\"${dragLeave(stop.id)}\"><citykleta-stop-point class=${classList} .location=\"${stop}\"></citykleta-stop-point></li>`)}</ol>\n    </div>\n    <div id=\"action-buttons-container\">\n        <citykleta-button-icon label=\"add a stop point in the itinerary\" @click=\"${addPoint}\">${plus()}</citykleta-button-icon>\n        <citykleta-button-icon label=\"reset itinerary selection\" @click=\"${reset}\">${remove()}</citykleta-button-icon>\n    </div>\n</div>\n${routes.length ? html `<div id=\"routes-container\">\n<h2>Route suggestions</h2>\n<citykleta-route-details tabindex=\"0\" .selectedRoute=\"${selectedRoute}\" .routes=\"${routes}\">Hello world</citykleta-route-details></div>` : ''}`;\n};\nexport const propDef = {\n    stops: { type: Array },\n    routes: { type: Array },\n    selectedRoute: { type: Number }\n};\nexport class ItineraryPanel extends LitElement {\n    constructor(serviceMap) {\n        super();\n        this._itinerary = null;\n        this._itinerary = serviceMap.get('itinerary');\n    }\n    static get styles() {\n        return style;\n    }\n    static get properties() {\n        return propDef;\n    }\n    render() {\n        return template({\n            routes: this.routes,\n            stops: this.stops,\n            itinerary: this._itinerary,\n            selectedRoute: this.selectedRoute\n        });\n    }\n}\n","import { css } from 'lit-element';\n// language=CSS\nexport const style = css `:host {\n    align-items: center;\n    display: flex;\n    justify-content: space-between;\n}\n\n:host(.removable) #remove-button {\n    --size: 1.3rem;\n}\n\n:host(.removable) .drag-handle, :host(.removable) #remove-button {\n    display: flex;\n    margin: 0 0.5em;\n}\n\n#remove-button {\n    display: none;\n}\n\n.drag-handle {\n    display: none;\n    width: 1rem;\n    --color: var(--font-color-theme-1);\n}\n\n/**\ntodo display a drag area on host hover instead\n */\n.drag-handle:hover {\n    --color: var(--color-theme-compl);\n    cursor: grab;\n}\n\n.drag-handle svg {\n    fill: var(--color);\n    stroke: var(--color);\n}\n\ncitykleta-search-box {\n    flex-grow: 1;\n    margin: 0 0.5em;\n}`;\n","import { html, LitElement } from 'lit-element';\nimport { dragHandle, remove as removeIcon } from '../../common/elements/icons';\nimport { style } from './stop-point.style';\nexport const template = ({ location: val, onValue, remove }) => html `\n    <span draggable=\"true\" class=\"drag-handle\">\n        ${dragHandle()}\n    </span>\n    <citykleta-search-box @value-change=\"${onValue}\" .value=\"${val.item}\"></citykleta-search-box>\n    <citykleta-button-icon label=\"remove stop point from the itinerary\" @click=\"${remove}\" class=\"danger\" id=\"remove-button\">${removeIcon()}</citykleta-button-icon>\n    `;\nexport const propDef = {\n    location: {\n        type: Object\n    }\n};\nexport class StopPoint extends LitElement {\n    constructor(serviceMap) {\n        super();\n        this.location = null;\n        this._itinerary = null;\n        this._search = null;\n        this._itinerary = serviceMap.get('itinerary');\n        this._search = serviceMap.get('search');\n    }\n    static get styles() {\n        return style;\n    }\n    static get properties() {\n        return propDef;\n    }\n    render() {\n        // overwrite suggestion sourceId with actual stop point sourceId\n        const onValue = (ev) => {\n            this._itinerary.updatePoint(this.location.id, ev.detail.value);\n        };\n        const remove = () => this._itinerary.removePoint(this.location.id);\n        return template({\n            onValue,\n            location: this.location,\n            remove\n        });\n    }\n}\n","import { css } from 'lit-element';\n// language=CSS\nexport const style = css `\n    :host {\n        background: var(--background-theme);\n        --route-bg-color: inherit;\n        --route-color: inherit;\n        --route-border-color: var(--background-theme-1);\n    }\n\n    ol {\n        list-style: none;\n        margin: 0;\n        padding: 0;\n        width: 100%;\n    }\n\n    li {\n        padding: 0.5em 1em;\n        background: var(--route-bg-color);\n        color: var(--route-color);\n        transition: background-color 0.3s, color 0.3s;\n    }\n\n    li[aria-selected=true] {\n        --route-bg-color: var(--color-theme-1);\n        --route-color: var(--font-color-theme-2);\n    }\n\n    li:not(:last-child) {\n        border-bottom: 1px solid var(--route-border-color);\n    }\n\n    dl {\n        display: grid;\n        grid-template-columns: repeat(2, fit-content(100px));\n        grid-row-gap: 0.25em;\n    }\n\n    dt {\n        font-weight: bold;\n    }\n\n    dt::after {\n        content: ':'\n    }\n\n    .unit {\n        margin: 0 0.25em;\n        font-style: italic;\n        font-size: 0.9em;\n    }\n`;\n","import { html, LitElement } from 'lit-element';\nimport { formatDistance, formatDuration } from '../../utils';\nimport { style } from './route-details.style';\nexport const template = ({ routes, selectedRoute, itinerary }) => html `<ol>${routes.map((r, i) => html `<li @click=\"${() => itinerary.selectRoute(i)}\" aria-selected=\"${i === selectedRoute}\">\n<dl>\n    <dt>Distance</dt><dd>${formatDistance(r.distance)}</dd>\n    <dt>Duration</dt><dd>${formatDuration(r.duration)}</dd>\n</dl>\n</li>`)}</ol>`;\nexport const propDef = {\n    routes: { type: Array },\n    selectedRoute: { type: Number }\n};\nexport class RouteDetails extends LitElement {\n    constructor(serviceMap) {\n        super();\n        this._itinerary = serviceMap.get('itinerary');\n        this.addEventListener('keydown', this.handleKeyDown.bind(this));\n    }\n    static get properties() {\n        return propDef;\n    }\n    static get styles() {\n        return style;\n    }\n    render() {\n        return template({\n            routes: this.routes,\n            selectedRoute: this.selectedRoute,\n            itinerary: this._itinerary\n        });\n    }\n    handleKeyDown(ev) {\n        const { key } = ev;\n        const routeLength = this.routes.length;\n        if (routeLength) {\n            const selectedRoute = this.selectedRoute;\n            let newRoute = selectedRoute;\n            switch (key) {\n                case 'ArrowDown': {\n                    newRoute = (selectedRoute + 1) % routeLength;\n                    break;\n                }\n                case 'ArrowUp': {\n                    newRoute = selectedRoute - 1 >= 0 ? selectedRoute - 1 : routeLength - 1;\n                    break;\n                }\n            }\n            this._itinerary.selectRoute(newRoute);\n        }\n    }\n}\n","import { ItineraryPanel } from './elements/itinerary-panel';\nimport { StopPoint } from './elements/stop-point';\nimport { once } from '../utils';\nimport { html } from 'lit-html';\nimport store from '../store/index';\nimport { connect } from '../common/connect';\nimport { loadSearchItineraryComponents } from '../common';\nimport { RouteDetails } from './elements/route-details';\nexport * from './actions';\nexport * from './reducer';\nexport * from './service';\nexport { ItineraryPanel } from './elements/itinerary-panel';\nexport { StopPoint } from './elements/stop-point';\nexport { loadSearchItineraryServices as loadServices } from '../common/index';\nexport const loadComponents = once((injector) => {\n    const connectedItineraryPanel = connect(store, (state) => state.itinerary);\n    loadSearchItineraryComponents(injector);\n    customElements.define('citykleta-itinerary-panel', connectedItineraryPanel(injector(ItineraryPanel)));\n    customElements.define('citykleta-stop-point', injector(StopPoint));\n    customElements.define('citykleta-route-details', injector(RouteDetails));\n});\nexport const view = () => html `<citykleta-itinerary-panel class=\"panel\"></citykleta-itinerary-panel>`;\n"],"names":["style","template","remove","removeIcon","propDef"],"mappings":"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"}